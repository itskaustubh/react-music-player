(this["webpackJsonpreact-music-player"]=this["webpackJsonpreact-music-player"]||[]).push([[0],{16:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(11),o=n.n(r),i=n(8),s=n(4),l=n(6),u=function(e){var t=Object(l.useState)(e),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(l.useRef)(null);Object(a.useEffect)((function(){o.current&&(o.current(c),o.current=null)}),[o.current,c]);var i=Object(a.useCallback)((function(e){return r(e),new Promise((function(e){o.current=e}))}),[r]);return[c,i]},d=n(26);var j=function(){return console.log("importing songs list"),[{name:"Beaver Creek",cover:"https://chillhop.com/wp-content/uploads/2020/09/0255e8b8c74c90d4a27c594b3452b2daafae608d-1024x1024.jpg",artist:"Aso, Middle School, Aviino",audio:"https://mp3.chillhop.com/serve.php/?mp3=10075",color:["#205950","#2ab3bf"],id:Object(d.a)(),active:!0},{name:"Daylight",cover:"https://chillhop.com/wp-content/uploads/2020/07/ef95e219a44869318b7806e9f0f794a1f9c451e4-1024x1024.jpg",artist:"Aiguille",audio:"https://mp3.chillhop.com/serve.php/?mp3=9272",color:["#EF8EA9","#ab417f"],id:Object(d.a)(),active:!1},{name:"Keep Going",cover:"https://chillhop.com/wp-content/uploads/2020/07/ff35dede32321a8aa0953809812941bcf8a6bd35-1024x1024.jpg",artist:"Sw\xf8rn",audio:"https://mp3.chillhop.com/serve.php/?mp3=9222",color:["#CD607D","#c94043"],id:Object(d.a)(),active:!1},{name:"Nightfall",cover:"https://chillhop.com/wp-content/uploads/2020/07/ef95e219a44869318b7806e9f0f794a1f9c451e4-1024x1024.jpg",artist:"Aiguille",audio:"https://mp3.chillhop.com/serve.php/?mp3=9148",color:["#EF8EA9","#ab417f"],id:Object(d.a)(),active:!1},{name:"Reflection",cover:"https://chillhop.com/wp-content/uploads/2020/07/ff35dede32321a8aa0953809812941bcf8a6bd35-1024x1024.jpg",artist:"Sw\xf8rn",audio:"https://mp3.chillhop.com/serve.php/?mp3=9228",color:["#CD607D","#c94043"],id:Object(d.a)(),active:!1},{name:"Under the City Stars",cover:"https://chillhop.com/wp-content/uploads/2020/09/0255e8b8c74c90d4a27c594b3452b2daafae608d-1024x1024.jpg",artist:"Aso, Middle School, Aviino",audio:"https://mp3.chillhop.com/serve.php/?mp3=10074",color:["#205950","#2ab3bf"],id:Object(d.a)(),active:!1}]},m=(n(16),n(0)),b=function(e){var t=e.rangeChangeHandler,n=e.time,a=e.currentSong,c={transform:"translateX(".concat(n.rawCurrentTime/n.rawTotalTime*100,"%)")},r={background:"linear-gradient(to right, ".concat(a.color[0],", ").concat(a.color[1],")")};return Object(m.jsx)("div",{className:"slider-container",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"range",style:r,onChange:t,min:"0",value:n.rawCurrentTime,max:n.rawTotalTime}),Object(m.jsx)("div",{className:"animate-track",style:c})]})})},p=function(e){var t=e.time,n=e.handleManualSeek,a=e.currentSong;return Object(m.jsxs)("div",{className:"seeker",children:[Object(m.jsx)("p",{className:"current-time",children:t.currentTime}),Object(m.jsx)(b,{rangeChangeHandler:function(e){n(e.target.value)},time:t,currentSong:a}),Object(m.jsx)("p",{className:"total-time",children:t.totalTime})]})},h=n(5),f=n(3),g=function(e){var t=e.isPlaying,n=e.handlePlay,a=e.songs,c=e.setCurrentSong,r=e.audioRef,o=e.setIsPlaying,i=e.currentSong,s=function(e){var n,s=a.findIndex((function(e){return e.id===i.id}));n="forward"===e?(s+1)%a.length:0===s?a.length-1:(s+-1)%a.length,c(a[n]).then((function(){console.log("done"),t&&(r.current.play(),o(!0))}))};return Object(m.jsxs)("div",{className:"controls",children:[Object(m.jsx)(h.a,{icon:f.a,className:"controls-left",onClick:function(){return s("back")}}),Object(m.jsx)(h.a,{icon:t?f.d:f.e,onClick:n,className:"controls-play"}),Object(m.jsx)(h.a,{icon:f.b,className:"controls-right",onClick:function(){return s("forward")}})]})},v=function(e){var t=e.navState,n=e.setNavState;return Object(m.jsx)("div",{className:"nav-container",children:Object(m.jsxs)("button",{onClick:function(){n(!t)},className:"nav-library-button ".concat(t?"library-open":""),children:[Object(m.jsx)(h.a,{icon:f.c,className:"icon-music"}),Object(m.jsx)("p",{className:"nav-title",children:"Library"})]})})},O=function(e){var t=e.song;return Object(m.jsxs)("div",{className:"song-info",children:[Object(m.jsx)("img",{src:t.cover,alt:"cover"}),Object(m.jsx)("h4",{className:"song-name",title:t.name,children:t.name}),Object(m.jsx)("h5",{className:"song-artist",title:t.artist,children:t.artist})]})},x=function(e){var t=e.song,n=e.setCurrentSong,a=e.audioRef,c=e.setIsPlaying,r=e.currentSong,o=e.setNavState;return Object(m.jsx)("div",{className:"library-card-container ".concat(r.id===t.id?"card-selected":""),onClick:function(){console.log(t.id),n(t).then((function(){a.current.play(),c(!0),o(!1)}))},children:Object(m.jsxs)("div",{className:"library-card",children:[Object(m.jsx)("img",{src:t.cover,alt:t.name}),Object(m.jsxs)("div",{className:"song-meta",children:[Object(m.jsx)("div",{className:"song-name",children:t.name}),Object(m.jsx)("div",{className:"artist-name",children:t.artist})]})]})})},S=function(e){var t=e.songs,n=e.setCurrentSong,c=e.audioRef,r=e.setIsPlaying,o=e.currentSong,i=e.navState,s=e.setNavState,u=Object(l.useRef)(null);function d(e){console.log(e.target.className),!u.current||u.current.contains(e.target)||e.target.className.includes("nav-library-button")||(console.log("closing library"),s(!1),document.removeEventListener("mousedown",d))}return Object(a.useEffect)((function(){if(!1!==i)return document.addEventListener("mouseup",d),function(){document.removeEventListener("mouseup",d)}}),[i]),Object(m.jsxs)("div",{className:"library-container ".concat(i?"":"hide-library"),ref:u,children:[Object(m.jsx)("div",{className:"library-title",children:"Library"}),Object(m.jsx)("div",{className:"library",children:t.map((function(e){return Object(m.jsx)(x,{song:e,setCurrentSong:n,audioRef:c,setIsPlaying:r,currentSong:o,setNavState:s},e.id)}))})]})},y=function(e){var t=e.setIsPlaying,n=e.isPlaying,c=e.audioRef;Object(a.useEffect)((function(){document.addEventListener("keyup",r,!1)}),[t,n,c]);var r=function e(a){"Space"===a.code&&(console.log("Space pressed"),n?(c.current.pause(),t(!1)):(c.current.play(),t(!0)),document.removeEventListener("keyup",e,!1))};return Object(m.jsx)("div",{})},N=j();function C(e){var t=Math.floor(e/3600).toString().padStart(1,"0");return(t>0?t+":":"")+Math.floor(e%3600/60).toString().padStart(1,"0")+":"+Math.floor(e%60).toString().padStart(2,"0")}var w=function(){var e=Math.floor(Math.random()*(N.length-1+1)),t=u(N[e]),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(s.a)(b,2),f=h[0],x=h[1],w=Object(a.useState)({currentTime:"0:00",totalTime:"    ",rawCurrentTime:0,rawTotalTime:0}),T=Object(s.a)(w,2),k=T[0],P=T[1],E=Object(a.useRef)(null);return Object(m.jsxs)("div",{className:"super-class",children:[Object(m.jsx)(S,{songs:N,setCurrentSong:r,audioRef:E,setIsPlaying:x,currentSong:c,navState:d,setNavState:j}),Object(m.jsx)(O,{song:c}),Object(m.jsxs)("div",{className:"song-controls",children:[Object(m.jsx)(p,{time:k,handleManualSeek:function(e){console.log(e),E.current.currentTime=e},currentSong:c}),Object(m.jsx)(g,{isPlaying:f,handlePlay:function(){f?E.current.pause():E.current.play(),x(!f)},songs:N,setCurrentSong:r,audioRef:E,setIsPlaying:x,currentSong:c})]}),Object(m.jsx)(v,{navState:d,setNavState:j}),Object(m.jsx)("audio",{ref:E,src:c.audio,onTimeUpdate:function(e){var t=e.target;P(Object(i.a)(Object(i.a)({},k),{},{currentTime:C(t.currentTime),rawCurrentTime:t.currentTime}))},onLoadedMetadata:function(e){var t=e.target;P(Object(i.a)(Object(i.a)({},k),{},{totalTime:C(t.duration),rawTotalTime:t.duration}))},onEnded:function(){var e=(N.findIndex((function(e){return e.id===c.id}))+1)%N.length;r(N[e]).then((function(){console.log("done"),f&&(E.current.play(),x(!0))}))}}),Object(m.jsx)(y,{isPlaying:f,setIsPlaying:x,audioRef:E})]})};n(23);var T=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(w,{})})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.791bce6b.chunk.js.map