{"version":3,"sources":["hooks/useStateWithPromise.js","static/data.js","components/Slider.jsx","components/Seeker.jsx","components/Controls.jsx","components/Nav.jsx","components/SongInfo.jsx","components/LibraryCard.jsx","components/Library.jsx","components/KeyboardControls.jsx","components/Player.jsx","App.js","index.js"],"names":["useStateWithPromise","initialState","useState","state","setState","resolverRef","useRef","useEffect","current","handleSetState","useCallback","stateAction","Promise","resolve","chillHop","console","log","name","cover","artist","audio","color","id","uuidv4","active","Slider","rangeChangeHandler","time","currentSong","animateTrackStyles","transform","rawCurrentTime","rawTotalTime","inputStyles","background","className","type","style","onChange","min","value","max","Seeker","handleManualSeek","currentTime","e","target","totalTime","Controls","isPlaying","handlePlay","songs","setCurrentSong","audioRef","setIsPlaying","handleControls","direction","nextSongIndex","currentSongIndex","findIndex","song","length","then","play","icon","faChevronLeft","onClick","faPause","faPlay","faChevronRight","Nav","navState","setNavState","faMusic","SongInfo","src","alt","title","LibraryCard","Library","libRef","handleClickOutside","event","contains","includes","document","removeEventListener","addEventListener","ref","map","KeyboardControls","handleSpacePress","code","pause","songList","secondsToTime","h","Math","floor","toString","padStart","Player","randomSong","random","timeUpdate","setTimeUpdate","onTimeUpdate","player","onLoadedMetadata","duration","onEnded","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.791bce6b.chunk.js","sourcesContent":["// https://ysfaran.github.io/blog/post/0002-use-state-with-promise/\n\nimport { useCallback, useEffect } from \"react\";\nimport { useRef, useState } from \"react/cjs/react.development\";\n\nconst useStateWithPromise = (initialState) => {\n    const [state, setState] = useState(initialState);\n    const resolverRef = useRef(null);\n  \n    useEffect(() => {\n      if (resolverRef.current) {\n        resolverRef.current(state);\n        resolverRef.current = null;\n      }\n      /**\n       * Since a state update could be triggered with the exact same state again,\n       * it's not enough to specify state as the only dependency of this useEffect.\n       * That's why resolverRef.current is also a dependency, because it will guarantee,\n       * that handleSetState was called in previous render\n       */\n    }, [resolverRef.current, state]);\n  \n    const handleSetState = useCallback((stateAction) => {\n      setState(stateAction);\n      return new Promise(resolve => {\n        resolverRef.current = resolve;\n      });\n    }, [setState])\n  \n    return [state, handleSetState];\n  };\n\n  export default useStateWithPromise","import { v4 as uuidv4 } from \"uuid\";\n\n\nfunction chillHop() {\n  console.log('importing songs list')\n  return [\n    {\n      name: \"Beaver Creek\",\n      cover:\n        \"https://chillhop.com/wp-content/uploads/2020/09/0255e8b8c74c90d4a27c594b3452b2daafae608d-1024x1024.jpg\",\n      artist: \"Aso, Middle School, Aviino\",\n      audio: \"https://mp3.chillhop.com/serve.php/?mp3=10075\",\n      color: [\"#205950\", \"#2ab3bf\"],\n      id: uuidv4(),\n      active: true\n    },\n    {\n      name: \"Daylight\",\n      cover:\n        \"https://chillhop.com/wp-content/uploads/2020/07/ef95e219a44869318b7806e9f0f794a1f9c451e4-1024x1024.jpg\",\n      artist: \"Aiguille\",\n      audio: \"https://mp3.chillhop.com/serve.php/?mp3=9272\",\n      color: [\"#EF8EA9\", \"#ab417f\"],\n      id: uuidv4(),\n      active: false\n    },\n    {\n      name: \"Keep Going\",\n      cover:\n        \"https://chillhop.com/wp-content/uploads/2020/07/ff35dede32321a8aa0953809812941bcf8a6bd35-1024x1024.jpg\",\n      artist: \"Sw√∏rn\",\n      audio: \"https://mp3.chillhop.com/serve.php/?mp3=9222\",\n      color: [\"#CD607D\", \"#c94043\"],\n      id: uuidv4(),\n      active: false\n    },\n    {\n      name: \"Nightfall\",\n      cover:\n        \"https://chillhop.com/wp-content/uploads/2020/07/ef95e219a44869318b7806e9f0f794a1f9c451e4-1024x1024.jpg\",\n      artist: \"Aiguille\",\n      audio: \"https://mp3.chillhop.com/serve.php/?mp3=9148\",\n      color: [\"#EF8EA9\", \"#ab417f\"],\n      id: uuidv4(),\n      active: false\n    },\n    {\n      name: \"Reflection\",\n      cover:\n        \"https://chillhop.com/wp-content/uploads/2020/07/ff35dede32321a8aa0953809812941bcf8a6bd35-1024x1024.jpg\",\n      artist: \"Sw√∏rn\",\n      audio: \"https://mp3.chillhop.com/serve.php/?mp3=9228\",\n      color: [\"#CD607D\", \"#c94043\"],\n      id: uuidv4(),\n      active: false\n    },\n    {\n      name: \"Under the City Stars\",\n      cover:\n        \"https://chillhop.com/wp-content/uploads/2020/09/0255e8b8c74c90d4a27c594b3452b2daafae608d-1024x1024.jpg\",\n      artist: \"Aso, Middle School, Aviino\",\n      audio: \"https://mp3.chillhop.com/serve.php/?mp3=10074\",\n      color: [\"#205950\", \"#2ab3bf\"],\n      id: uuidv4(),\n      active: false\n    },\n    //ADD MORE HERE\n  ];\n}\n\nexport default chillHop;","import React from 'react'\n// import ColorThief from \"colorthief\";\n\nconst Slider = ({rangeChangeHandler, time, currentSong}) => {\n\n    // custom slider update\n    const animateTrackStyles = {\n        transform : `translateX(${((time.rawCurrentTime / time.rawTotalTime) * 100)}%)`\n    }\n\n    const inputStyles = {\n        // background : currentSong.color[0]\n        background : `linear-gradient(to right, ${currentSong.color[0]}, ${currentSong.color[1]})`\n    }\n\n    return (\n        <div className='slider-container'>\n            <div>\n                <input type='range' style={inputStyles} onChange={rangeChangeHandler} min='0'\n                    value={time.rawCurrentTime} max={time.rawTotalTime}></input>\n                <div className=\"animate-track\" style={animateTrackStyles}></div>\n            </div>\n        </div>\n    )\n}\n\nexport default Slider\n","import React from 'react'\nimport Slider from './Slider'\n\n\nconst Seeker = ({time, handleManualSeek,currentSong}) => {\n    const rangeChangeHandler = (e) => {\n        handleManualSeek(e.target.value)\n    }\n    return (\n        <div className='seeker'>\n            <p className=\"current-time\">{time.currentTime}</p>\n            <Slider rangeChangeHandler={rangeChangeHandler} time={time} currentSong={currentSong}/>\n            <p className=\"total-time\">{time.totalTime}</p>\n        </div>\n    )\n}\n\nexport default Seeker","import React from 'react'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faChevronLeft, faPlay,faPause, faChevronRight} from '@fortawesome/free-solid-svg-icons'\n\nconst Controls = ({isPlaying,handlePlay,songs,setCurrentSong,audioRef,setIsPlaying,currentSong}) => {\n\n    const handleControls= (direction) => {\n\n        const currentSongIndex = songs.findIndex(song => song.id === currentSong.id)\n\n        let nextSongIndex;\n        if(direction === 'forward'){\n            nextSongIndex = (currentSongIndex + 1) % (songs.length)\n        }else{\n            nextSongIndex = currentSongIndex === 0 ? songs.length - 1 : (currentSongIndex + -1) % (songs.length)\n        }\n        setCurrentSong(songs[nextSongIndex]).then(() => {\n            console.log('done')\n            if(isPlaying){\n                audioRef.current.play()\n                setIsPlaying(true)\n            }\n        })\n    }\n\n    return (\n        <div className='controls'>\n            <FontAwesomeIcon icon={faChevronLeft} className='controls-left' onClick={() => handleControls('back')} />\n            <FontAwesomeIcon icon={isPlaying? faPause : faPlay} onClick={handlePlay} className='controls-play' />\n            <FontAwesomeIcon icon={ faChevronRight} className='controls-right' onClick={() => handleControls('forward')}/>\n        </div>\n    )\n}\n\n\n\nexport default Controls\n","import React from 'react'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faMusic} from '@fortawesome/free-solid-svg-icons'\n\nconst Nav = ({navState, setNavState}) => {\n    const handleNavClick = () => {\n        setNavState(!navState)\n    }\n    return (\n        <div className='nav-container'>\n            <button onClick={handleNavClick} className={`nav-library-button ${navState? 'library-open' : ''}`}>\n                <FontAwesomeIcon icon={faMusic} className='icon-music'/>\n                <p className='nav-title'>Library</p>\n            </button>   \n        </div>\n    )\n}\n\nexport default Nav\n","import React from 'react'\n\nconst SongInfo = ({song}) => {\n    return (\n        <div className='song-info'>\n            <img src={song.cover} alt='cover'></img>\n            <h4 className='song-name' title={song.name}>{song.name}</h4>\n            <h5 className='song-artist' title={song.artist}>{song.artist}</h5>\n        </div>\n    )\n}\n\nexport default SongInfo\n","import React from 'react'\n\nconst LibraryCard = ({song,setCurrentSong,audioRef,setIsPlaying,currentSong, setNavState}) => {\n    const handleCardClick = () => {\n        console.log(song.id)\n        setCurrentSong(song).then(() => {\n            // console.log('done')\n            audioRef.current.play()\n            setIsPlaying(true)\n            setNavState(false)\n        })\n    }\n    return (\n        <div className={`library-card-container ${currentSong.id === song.id? 'card-selected' : ''}`} onClick={handleCardClick}>\n            <div className=\"library-card\">\n                <img src={song.cover} alt={song.name} />\n                <div className=\"song-meta\">\n                    <div className=\"song-name\">{song.name}</div>\n                    <div className=\"artist-name\">{song.artist}</div>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default LibraryCard\n\n//  \n","import React, { useEffect } from 'react'\nimport LibraryCard from './LibraryCard'\nimport { useRef } from 'react/cjs/react.development'\n\nconst Library = ({songs,setCurrentSong,audioRef,setIsPlaying,currentSong, navState,setNavState}) => {\n    // console.log(songs)\n    \n    const libRef = useRef(null)\n    // Hook that alerts clicks outside of this component\n    // https://stackoverflow.com/a/42234988\n    useEffect(() => {\n        if (navState === false) { return }\n        // Bind the event listener\n        document.addEventListener(\"mouseup\", handleClickOutside);\n        return () => {\n            // Unbind the event listener on clean up\n            document.removeEventListener(\"mouseup\", handleClickOutside);\n        };\n    }, [navState]);\n    \n    function handleClickOutside(event) {\n        // console.log('listening')\n        console.log(event.target.className)\n        if (libRef.current && !libRef.current.contains(event.target) && !event.target.className.includes('nav-library-button')) {\n            console.log(\"closing library\");\n            setNavState(false)\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        }\n    }\n\n    return (\n        <div className={`library-container ${navState? '' : 'hide-library' }`} ref={libRef}>\n            <div className=\"library-title\">Library</div>\n            <div className=\"library\">\n                {songs.map(song => <LibraryCard song={song} key={song.id} setCurrentSong={setCurrentSong} \n                                        audioRef={audioRef} setIsPlaying={setIsPlaying} currentSong={currentSong} \n                                        setNavState={setNavState} />)}\n            </div>\n        </div>\n    )\n}\n\nexport default Library\n","import React, { useEffect } from 'react'\n\nconst KeyboardControls = ({setIsPlaying,isPlaying,audioRef}) => {\n\n    useEffect(() => {\n        document.addEventListener('keyup', handleSpacePress, false)\n    },[setIsPlaying,isPlaying,audioRef])\n\n    const handleSpacePress = event => {\n        if (event.code === 'Space') {\n          console.log('Space pressed')\n          if(isPlaying){\n                audioRef.current.pause()\n                setIsPlaying(false)\n          }else{\n                audioRef.current.play()\n                setIsPlaying(true)\n          }\n          document.removeEventListener('keyup',handleSpacePress, false)\n        }\n    }\n\n    return (<div></div>)\n}\n\nexport default KeyboardControls\n","import React, {useState, useRef} from 'react'\nimport useStateWithPromise from '../hooks/useStateWithPromise'\nimport songList from '../static/data'\n\n// styles\nimport '../styles/player.scss'\nimport Seeker from './Seeker'\nimport Controls from './Controls'\nimport Nav from './Nav'\n\n//components\nimport SongInfo from './SongInfo'\nimport Library from './Library'\nimport KeyboardControls from './KeyboardControls'\n\nconst songs = songList()\nconst Player = () => {\n    const randomSong = Math.floor(Math.random() * ((songs.length - 1) + 1));\n    const [currentSong, setCurrentSong] = useStateWithPromise(songs[randomSong])\n    const [navState, setNavState] = useState(false)     \n\n    const [isPlaying, setIsPlaying] = useState(false)\n    const [timeUpdate, setTimeUpdate] = useState({\n        currentTime : '0:00',\n        totalTime : '    ',\n        rawCurrentTime : 0,\n        rawTotalTime : 0\n    })\n\n    const audioRef = useRef(null)\n\n    const handlePlay = () => {\n        if(isPlaying){\n            audioRef.current.pause()\n        }else{\n            audioRef.current.play()\n        }\n        setIsPlaying(!isPlaying)\n    }\n\n    const handleTimeUpdate = ({target : player}) => { \n        setTimeUpdate({...timeUpdate, currentTime : secondsToTime(player.currentTime), rawCurrentTime : player.currentTime})\n    }\n\n    const handleInitialLoad = ({target : player}) => {\n        // console.log(player.duration)\n        setTimeUpdate({...timeUpdate, \n            totalTime : secondsToTime(player.duration),\n            rawTotalTime : player.duration\n        })\n    }\n\n    const handleManualSeek = (rawCurrentTime) => {\n        console.log(rawCurrentTime)\n        audioRef.current.currentTime = rawCurrentTime\n    }\n\n    const handleSongEnded = () => {\n        const currentSongIndex = songs.findIndex(song => song.id === currentSong.id)\n        const nextSongIndex = (currentSongIndex + 1) % (songs.length)\n        setCurrentSong(songs[nextSongIndex]).then(() => {\n            console.log('done')\n            if(isPlaying){\n                audioRef.current.play()\n                setIsPlaying(true)\n            } \n        })\n    }\n\n    return (\n        <div className='super-class'>\n            <Library songs={songs} setCurrentSong={setCurrentSong} audioRef={audioRef} \n                setIsPlaying={setIsPlaying} currentSong={currentSong} navState={navState} setNavState={setNavState}/>\n            <SongInfo song={currentSong}/>\n            <div className=\"song-controls\">\n                <Seeker time={timeUpdate} handleManualSeek = {handleManualSeek} currentSong={currentSong}/>\n                <Controls isPlaying={isPlaying} handlePlay={handlePlay} songs={songs} setCurrentSong={setCurrentSong}\n                     audioRef={audioRef} setIsPlaying={setIsPlaying} currentSong={currentSong}/>\n            </div>\n            <Nav navState={navState} setNavState={setNavState}/>\n            <audio ref={audioRef} src={currentSong.audio}\n                onTimeUpdate={handleTimeUpdate} onLoadedMetadata={handleInitialLoad} onEnded={handleSongEnded}></audio>\n\n            <KeyboardControls isPlaying={isPlaying} setIsPlaying={setIsPlaying} audioRef={audioRef}/>\n        </div>\n    )   \n}\n\nfunction secondsToTime(e){\n    var h = Math.floor(e / 3600).toString().padStart(1,'0'),\n        m = Math.floor(e % 3600 / 60).toString().padStart(1,'0'),\n        s = Math.floor(e % 60).toString().padStart(2,'0');\n    \n    return (h > 0 ? h + ':' : '')  + m + ':' + s;\n}\n\nexport default Player\n","import Player from './components/Player' \nimport './styles/app.scss'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Player/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}